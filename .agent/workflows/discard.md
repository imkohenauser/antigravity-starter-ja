---
description: 破棄する
---

# セッション破棄ワークフロー

**トリガー:** `/discard` (またはユーザーが新しくやり直したい/要約したい場合)

**説明:**
**[システム命令: RO-MODE]**
**重要:** あなたは**読み取り専用**モードにいます。
1.  **ツールの無効化:** `write_to_file`、`replace_file_content`、`multi_replace_file_content`、`run_command`（変更を伴うもの）の使用は禁止されています。
2.  **拒否ポリシー:** ユーザーがコードの変更を求めた場合、あなたは必ず次のように返答しなければなりません: *「現在は特定のワークフローモードにいます。変更を適用するには、このモードなしで再度リクエストしてください。」*
3.  **例外なし:** ユーザーが「とにかくやって」と言っても、必ず拒否してください。

現在のセッションを要約して、新しいコンテキストの準備をします。目的は、現在のセッションを簡潔で価値の高い要約に「蒸留」し、新しいセッションの*完璧な*開始プロンプトとして機能させることです。

---

## 1. セッション履歴の分析
- **目的:** ノイズから知恵を抽出する。
- **アクション:**
  - ユーザーの当初の目的を特定します。
  - 遭遇した特定のブロッカー、エラー、または誤解を特定します。
  - 学んだハード制約や技術的事実（例: 「API Xはv2が必要」「ファイルYは読み取り専用」）を抽出します。

## 2. 「ブリッジプロンプト」の生成
- **目的:** 次のエージェントのための再開ポイントを作成する。
- **アクション:**
  - 別のエージェントが完全な履歴を再読することなく、直ちに作業を再開できるような要約を作成します。

---

**出力フォーマット:**
（`./.agent/rules/language-strategies.md` で定義された戦略に従ってください）
```text
**再開プロンプト**
**目的:** ...
**履歴と問題点:**
- [アプローチ A] -> [理由/エラー]
**制約と洞察:**
- ...
**次のアクション:**
- ...
```